
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Google Cloud Vertex AI SDK.">
      
      
      
        <link rel="canonical" href="https://github.com/googleapis/python-aiplatform/vertexai/vision_models/">
      
      
        <link rel="prev" href="../language_models/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>Vision models - Vertex SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#vertexai.vision_models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Vertex SDK" class="md-header__button md-logo" aria-label="Vertex SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vertex SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Vision models
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/googleapis/python-aiplatform" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    googleapis/python-aiplatform
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../generative_models/" class="md-tabs__link">
        
  
    
  
  Generative models

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../language_models/" class="md-tabs__link">
        
  
    
  
  Language models

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Vision models

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Vertex SDK" class="md-nav__button md-logo" aria-label="Vertex SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Vertex SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/googleapis/python-aiplatform" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    googleapis/python-aiplatform
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../generative_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generative models
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../language_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Language models
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Vision models
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Vision models
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models" class="md-nav__link">
    <span class="md-ellipsis">
      vision_models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image" class="md-nav__link">
    <span class="md-ellipsis">
      Image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.load_from_file" class="md-nav__link">
    <span class="md-ellipsis">
      load_from_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.show" class="md-nav__link">
    <span class="md-ellipsis">
      show
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageCaptioningModel" class="md-nav__link">
    <span class="md-ellipsis">
      ImageCaptioningModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImageCaptioningModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageCaptioningModel.get_captions" class="md-nav__link">
    <span class="md-ellipsis">
      get_captions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageQnAModel" class="md-nav__link">
    <span class="md-ellipsis">
      ImageQnAModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImageQnAModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageQnAModel.ask_question" class="md-nav__link">
    <span class="md-ellipsis">
      ask_question
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageTextModel" class="md-nav__link">
    <span class="md-ellipsis">
      ImageTextModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.MultiModalEmbeddingModel" class="md-nav__link">
    <span class="md-ellipsis">
      MultiModalEmbeddingModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MultiModalEmbeddingModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.MultiModalEmbeddingModel.get_embeddings" class="md-nav__link">
    <span class="md-ellipsis">
      get_embeddings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.MultiModalEmbeddingResponse" class="md-nav__link">
    <span class="md-ellipsis">
      MultiModalEmbeddingResponse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video" class="md-nav__link">
    <span class="md-ellipsis">
      Video
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video.load_from_file" class="md-nav__link">
    <span class="md-ellipsis">
      load_from_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoEmbedding" class="md-nav__link">
    <span class="md-ellipsis">
      VideoEmbedding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VideoEmbedding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoEmbedding.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoSegmentConfig" class="md-nav__link">
    <span class="md-ellipsis">
      VideoSegmentConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VideoSegmentConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoSegmentConfig.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models" class="md-nav__link">
    <span class="md-ellipsis">
      vision_models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image" class="md-nav__link">
    <span class="md-ellipsis">
      Image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.load_from_file" class="md-nav__link">
    <span class="md-ellipsis">
      load_from_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Image.show" class="md-nav__link">
    <span class="md-ellipsis">
      show
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageCaptioningModel" class="md-nav__link">
    <span class="md-ellipsis">
      ImageCaptioningModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImageCaptioningModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageCaptioningModel.get_captions" class="md-nav__link">
    <span class="md-ellipsis">
      get_captions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageQnAModel" class="md-nav__link">
    <span class="md-ellipsis">
      ImageQnAModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImageQnAModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageQnAModel.ask_question" class="md-nav__link">
    <span class="md-ellipsis">
      ask_question
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.ImageTextModel" class="md-nav__link">
    <span class="md-ellipsis">
      ImageTextModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.MultiModalEmbeddingModel" class="md-nav__link">
    <span class="md-ellipsis">
      MultiModalEmbeddingModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MultiModalEmbeddingModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.MultiModalEmbeddingModel.get_embeddings" class="md-nav__link">
    <span class="md-ellipsis">
      get_embeddings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.MultiModalEmbeddingResponse" class="md-nav__link">
    <span class="md-ellipsis">
      MultiModalEmbeddingResponse
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video" class="md-nav__link">
    <span class="md-ellipsis">
      Video
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video.load_from_file" class="md-nav__link">
    <span class="md-ellipsis">
      load_from_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.Video.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoEmbedding" class="md-nav__link">
    <span class="md-ellipsis">
      VideoEmbedding
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VideoEmbedding">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoEmbedding.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoSegmentConfig" class="md-nav__link">
    <span class="md-ellipsis">
      VideoSegmentConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VideoSegmentConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertexai.vision_models.VideoSegmentConfig.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Vision models</h1>

<div class="doc doc-object doc-module">



<a id="vertexai.vision_models"></a>
    <div class="doc doc-contents first">

      <p>Classes for working with vision models.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.Image" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Image</span>


</h2>


    <div class="doc doc-contents ">


      <p>Image.</p>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Image</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Image.&quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">_loaded_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_loaded_image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PIL_Image.Image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">image_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an `Image` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            image_bytes: Image file bytes. Image can be in PNG or JPEG format.</span>
<span class="sd">            gcs_uri: Image URI in Google Cloud Storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">image_bytes</span><span class="p">)</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">(</span><span class="n">gcs_uri</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either image_bytes or gcs_uri must be provided.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_image_bytes</span> <span class="o">=</span> <span class="n">image_bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span> <span class="o">=</span> <span class="n">gcs_uri</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">load_from_file</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Image&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads image from local file or Google Cloud Storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            location: Local path or Google Cloud Storage uri from where to load</span>
<span class="sd">                the image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Loaded image as an `Image` object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">parsed_url</span><span class="o">.</span><span class="n">scheme</span> <span class="o">==</span> <span class="s2">&quot;https&quot;</span>
            <span class="ow">and</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">netloc</span> <span class="o">==</span> <span class="s2">&quot;storage.googleapis.com&quot;</span>
        <span class="p">):</span>
            <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span>
                <span class="n">scheme</span><span class="o">=</span><span class="s2">&quot;gs&quot;</span><span class="p">,</span> <span class="n">netloc</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">unquote</span><span class="p">(</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">path</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="n">location</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">scheme</span> <span class="o">==</span> <span class="s2">&quot;gs&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Image</span><span class="p">(</span><span class="n">gcs_uri</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>

        <span class="c1"># Load image from local path</span>
        <span class="n">image_bytes</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">image_bytes</span><span class="o">=</span><span class="n">image_bytes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">image</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">storage</span><span class="o">.</span><span class="n">Blob</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;_blob is only supported when gcs_uri is set.&quot;</span><span class="p">)</span>
        <span class="n">storage_client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span>
            <span class="n">credentials</span><span class="o">=</span><span class="n">aiplatform_initializer</span><span class="o">.</span><span class="n">global_config</span><span class="o">.</span><span class="n">credentials</span>
        <span class="p">)</span>
        <span class="n">blob</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Blob</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="n">storage_client</span><span class="p">)</span>
        <span class="c1"># Needed to populate `blob.content_type`</span>
        <span class="n">blob</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">blob</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_image_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_blob</span><span class="o">.</span><span class="n">download_as_bytes</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span>

    <span class="nd">@_image_bytes</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">_image_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_pil_image</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PIL_Image.Image&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_image</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">PIL_Image</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The PIL module is not available. Please install the Pillow package.&quot;</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_image</span> <span class="o">=</span> <span class="n">PIL_Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_bytes</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_image</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pil_image</span><span class="o">.</span><span class="n">size</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_mime_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the MIME type of the image.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_blob</span><span class="o">.</span><span class="n">content_type</span>
        <span class="k">if</span> <span class="n">PIL_Image</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PIL_Image</span><span class="o">.</span><span class="n">MIME</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pil_image</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s2">&quot;image/jpeg&quot;</span><span class="p">)</span>
        <span class="c1"># Fall back to jpeg</span>
        <span class="k">return</span> <span class="s2">&quot;image/jpeg&quot;</span>

    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Shows the image.</span>

<span class="sd">        This method only works when in a notebook environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">PIL_Image</span> <span class="ow">and</span> <span class="n">IPython_display</span><span class="p">:</span>
            <span class="n">IPython_display</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pil_image</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Saves image to a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            location: Local path where to save the image.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_bytes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_as_base64_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Encodes image using the base64 encoding.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Base64 encoding of the image as a string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># ! b64encode returns `bytes` object, not `str`.</span>
        <span class="c1"># We need to convert `bytes` to `str`, otherwise we get service error:</span>
        <span class="c1"># &quot;received initial metadata size exceeds limit&quot;</span>
        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_bytes</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.Image.__init__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__init__</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="fm">__init__</span><span class="p">(</span>
    <span class="nf">image_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">



<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>image_bytes</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image file bytes. Image can be in PNG or JPEG format.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[bytes]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>gcs_uri</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image URI in Google Cloud Storage.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[str]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">image_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an `Image` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_bytes: Image file bytes. Image can be in PNG or JPEG format.</span>
<span class="sd">        gcs_uri: Image URI in Google Cloud Storage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">image_bytes</span><span class="p">)</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">(</span><span class="n">gcs_uri</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either image_bytes or gcs_uri must be provided.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_image_bytes</span> <span class="o">=</span> <span class="n">image_bytes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span> <span class="o">=</span> <span class="n">gcs_uri</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.Image.load_from_file" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_from_file</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">load_from_file</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Image</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Loads image from local file or Google Cloud Storage.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>location</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Local path or Google Cloud Storage uri from where to load
the image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.Image" href="../preview/vision_models/#vertexai.preview.vision_models.Image">Image</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Loaded image as an <code class="language-python highlight"><span class="n">Image</span></code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">load_from_file</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Image&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads image from local file or Google Cloud Storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        location: Local path or Google Cloud Storage uri from where to load</span>
<span class="sd">            the image.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Loaded image as an `Image` object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">parsed_url</span><span class="o">.</span><span class="n">scheme</span> <span class="o">==</span> <span class="s2">&quot;https&quot;</span>
        <span class="ow">and</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">netloc</span> <span class="o">==</span> <span class="s2">&quot;storage.googleapis.com&quot;</span>
    <span class="p">):</span>
        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span>
            <span class="n">scheme</span><span class="o">=</span><span class="s2">&quot;gs&quot;</span><span class="p">,</span> <span class="n">netloc</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">unquote</span><span class="p">(</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">path</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">scheme</span> <span class="o">==</span> <span class="s2">&quot;gs&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Image</span><span class="p">(</span><span class="n">gcs_uri</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>

    <span class="c1"># Load image from local path</span>
    <span class="n">image_bytes</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">image_bytes</span><span class="o">=</span><span class="n">image_bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">image</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.Image.save" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">save</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">save</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Saves image to a file.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>location</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Local path where to save the image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Saves image to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        location: Local path where to save the image.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_image_bytes</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.Image.show" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">show</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">show</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Shows the image.</p>
<p>This method only works when in a notebook environment.</p>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Shows the image.</span>

<span class="sd">    This method only works when in a notebook environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">PIL_Image</span> <span class="ow">and</span> <span class="n">IPython_display</span><span class="p">:</span>
        <span class="n">IPython_display</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pil_image</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.ImageCaptioningModel" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ImageCaptioningModel</span>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="vertexai._model_garden._model_garden_models._ModelGardenModel">_ModelGardenModel</span></code></p>


      <p>Generates captions from image.</p>
<p>Examples::</p>
<div class="language-text highlight"><pre><span></span><code>model = ImageCaptioningModel.from_pretrained(&quot;imagetext@001&quot;)
image = Image.load_from_file(&quot;image.png&quot;)
captions = model.get_captions(
    image=image,
    # Optional:
    number_of_results=1,
    language=&quot;en&quot;,
)
</code></pre></div>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ImageCaptioningModel</span><span class="p">(</span>
    <span class="n">_model_garden_models</span><span class="o">.</span><span class="n">_ModelGardenModel</span>  <span class="c1"># pylint: disable=protected-access</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates captions from image.</span>

<span class="sd">    Examples::</span>

<span class="sd">        model = ImageCaptioningModel.from_pretrained(&quot;imagetext@001&quot;)</span>
<span class="sd">        image = Image.load_from_file(&quot;image.png&quot;)</span>
<span class="sd">        captions = model.get_captions(</span>
<span class="sd">            image=image,</span>
<span class="sd">            # Optional:</span>
<span class="sd">            number_of_results=1,</span>
<span class="sd">            language=&quot;en&quot;,</span>
<span class="sd">        )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">_INSTANCE_SCHEMA_URI</span> <span class="o">=</span> <span class="s2">&quot;gs://google-cloud-aiplatform/schema/predict/instance/vision_reasoning_model_1.0.0.yaml&quot;</span>

    <span class="k">def</span> <span class="nf">get_captions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">image</span><span class="p">:</span> <span class="n">Image</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">number_of_results</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="n">output_gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates captions for a given image.</span>

<span class="sd">        Args:</span>
<span class="sd">            image: The image to get captions for. Size limit: 10 MB.</span>
<span class="sd">            number_of_results: Number of captions to produce. Range: 1-3.</span>
<span class="sd">            language: Language to use for captions.</span>
<span class="sd">                Supported languages: &quot;en&quot;, &quot;fr&quot;, &quot;de&quot;, &quot;it&quot;, &quot;es&quot;</span>
<span class="sd">            output_gcs_uri: Google Cloud Storage uri to store the captioned images.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of image caption strings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">number_of_results</span><span class="p">,</span>
            <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="n">language</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">output_gcs_uri</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;storageUri&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_gcs_uri</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
            <span class="n">instances</span><span class="o">=</span><span class="p">[</span><span class="n">instance</span><span class="p">],</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.ImageCaptioningModel.get_captions" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_captions</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_captions</span><span class="p">(</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Image</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">number_of_results</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="n">output_gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Generates captions for a given image.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>image</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The image to get captions for. Size limit: 10 MB.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.Image" href="../preview/vision_models/#vertexai.preview.vision_models.Image">Image</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>number_of_results</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Number of captions to produce. Range: 1-3.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>language</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Language to use for captions.
Supported languages: "en", "fr", "de", "it", "es"</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;en&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_gcs_uri</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Google Cloud Storage uri to store the captioned images.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[str]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[str]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A list of image caption strings.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_captions</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Image</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">number_of_results</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="n">output_gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates captions for a given image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image: The image to get captions for. Size limit: 10 MB.</span>
<span class="sd">        number_of_results: Number of captions to produce. Range: 1-3.</span>
<span class="sd">        language: Language to use for captions.</span>
<span class="sd">            Supported languages: &quot;en&quot;, &quot;fr&quot;, &quot;de&quot;, &quot;it&quot;, &quot;es&quot;</span>
<span class="sd">        output_gcs_uri: Google Cloud Storage uri to store the captioned images.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of image caption strings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="p">}</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">number_of_results</span><span class="p">,</span>
        <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="n">language</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">output_gcs_uri</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;storageUri&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output_gcs_uri</span>

    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
        <span class="n">instances</span><span class="o">=</span><span class="p">[</span><span class="n">instance</span><span class="p">],</span>
        <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.ImageQnAModel" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ImageQnAModel</span>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="vertexai._model_garden._model_garden_models._ModelGardenModel">_ModelGardenModel</span></code></p>


      <p>Answers questions about an image.</p>
<p>Examples::</p>
<div class="language-text highlight"><pre><span></span><code>model = ImageQnAModel.from_pretrained(&quot;imagetext@001&quot;)
image = Image.load_from_file(&quot;image.png&quot;)
answers = model.ask_question(
    image=image,
    question=&quot;What color is the car in this image?&quot;,
    # Optional:
    number_of_results=1,
)
</code></pre></div>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ImageQnAModel</span><span class="p">(</span>
    <span class="n">_model_garden_models</span><span class="o">.</span><span class="n">_ModelGardenModel</span>  <span class="c1"># pylint: disable=protected-access</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Answers questions about an image.</span>

<span class="sd">    Examples::</span>

<span class="sd">        model = ImageQnAModel.from_pretrained(&quot;imagetext@001&quot;)</span>
<span class="sd">        image = Image.load_from_file(&quot;image.png&quot;)</span>
<span class="sd">        answers = model.ask_question(</span>
<span class="sd">            image=image,</span>
<span class="sd">            question=&quot;What color is the car in this image?&quot;,</span>
<span class="sd">            # Optional:</span>
<span class="sd">            number_of_results=1,</span>
<span class="sd">        )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">_INSTANCE_SCHEMA_URI</span> <span class="o">=</span> <span class="s2">&quot;gs://google-cloud-aiplatform/schema/predict/instance/vision_reasoning_model_1.0.0.yaml&quot;</span>

    <span class="k">def</span> <span class="nf">ask_question</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">image</span><span class="p">:</span> <span class="n">Image</span><span class="p">,</span>
        <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">number_of_results</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Answers questions about an image.</span>

<span class="sd">        Args:</span>
<span class="sd">            image: The image to get captions for. Size limit: 10 MB.</span>
<span class="sd">            question: Question to ask about the image.</span>
<span class="sd">            number_of_results: Number of captions to produce. Range: 1-3.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of answers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">question</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">number_of_results</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
            <span class="n">instances</span><span class="o">=</span><span class="p">[</span><span class="n">instance</span><span class="p">],</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.ImageQnAModel.ask_question" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">ask_question</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">ask_question</span><span class="p">(</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Image</span><span class="p">,</span>
    <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">number_of_results</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Answers questions about an image.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>image</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The image to get captions for. Size limit: 10 MB.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.Image" href="../preview/vision_models/#vertexai.preview.vision_models.Image">Image</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>question</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Question to ask about the image.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>number_of_results</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Number of captions to produce. Range: 1-3.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[str]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A list of answers.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ask_question</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Image</span><span class="p">,</span>
    <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">number_of_results</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Answers questions about an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image: The image to get captions for. Size limit: 10 MB.</span>
<span class="sd">        question: Question to ask about the image.</span>
<span class="sd">        number_of_results: Number of captions to produce. Range: 1-3.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of answers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">question</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
        <span class="p">}</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;sampleCount&quot;</span><span class="p">:</span> <span class="n">number_of_results</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
        <span class="n">instances</span><span class="o">=</span><span class="p">[</span><span class="n">instance</span><span class="p">],</span>
        <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.ImageTextModel" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ImageTextModel</span>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.ImageCaptioningModel" href="../preview/vision_models/#vertexai.preview.vision_models.ImageCaptioningModel">ImageCaptioningModel</a></code>, <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.ImageQnAModel" href="../preview/vision_models/#vertexai.preview.vision_models.ImageQnAModel">ImageQnAModel</a></code></p>


      <p>Generates text from images.</p>
<p>Examples::</p>
<div class="language-text highlight"><pre><span></span><code>model = ImageTextModel.from_pretrained(&quot;imagetext@001&quot;)
image = Image.load_from_file(&quot;image.png&quot;)

captions = model.get_captions(
    image=image,
    # Optional:
    number_of_results=1,
    language=&quot;en&quot;,
)

answers = model.ask_question(
    image=image,
    question=&quot;What color is the car in this image?&quot;,
    # Optional:
    number_of_results=1,
)
</code></pre></div>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ImageTextModel</span><span class="p">(</span><span class="n">ImageCaptioningModel</span><span class="p">,</span> <span class="n">ImageQnAModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates text from images.</span>

<span class="sd">    Examples::</span>

<span class="sd">        model = ImageTextModel.from_pretrained(&quot;imagetext@001&quot;)</span>
<span class="sd">        image = Image.load_from_file(&quot;image.png&quot;)</span>

<span class="sd">        captions = model.get_captions(</span>
<span class="sd">            image=image,</span>
<span class="sd">            # Optional:</span>
<span class="sd">            number_of_results=1,</span>
<span class="sd">            language=&quot;en&quot;,</span>
<span class="sd">        )</span>

<span class="sd">        answers = model.ask_question(</span>
<span class="sd">            image=image,</span>
<span class="sd">            question=&quot;What color is the car in this image?&quot;,</span>
<span class="sd">            # Optional:</span>
<span class="sd">            number_of_results=1,</span>
<span class="sd">        )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="c1"># NOTE: Using this ImageTextModel class is recommended over using ImageQnAModel or ImageCaptioningModel,</span>
    <span class="c1"># since SDK Model Garden classes should follow the design pattern of exactly 1 SDK class to 1 Model Garden schema URI</span>

    <span class="n">_INSTANCE_SCHEMA_URI</span> <span class="o">=</span> <span class="s2">&quot;gs://google-cloud-aiplatform/schema/predict/instance/vision_reasoning_model_1.0.0.yaml&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.MultiModalEmbeddingModel" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">MultiModalEmbeddingModel</span>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="vertexai._model_garden._model_garden_models._ModelGardenModel">_ModelGardenModel</span></code></p>


      <p>Generates embedding vectors from images and videos.</p>
<p>Examples::</p>
<div class="language-text highlight"><pre><span></span><code>model = MultiModalEmbeddingModel.from_pretrained(&quot;multimodalembedding@001&quot;)
image = Image.load_from_file(&quot;image.png&quot;)
video = Video.load_from_file(&quot;video.mp4&quot;)

embeddings = model.get_embeddings(
    image=image,
    video=video,
    contextual_text=&quot;Hello world&quot;,
)
image_embedding = embeddings.image_embedding
video_embeddings = embeddings.video_embeddings
text_embedding = embeddings.text_embedding
</code></pre></div>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MultiModalEmbeddingModel</span><span class="p">(</span><span class="n">_model_garden_models</span><span class="o">.</span><span class="n">_ModelGardenModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates embedding vectors from images and videos.</span>

<span class="sd">    Examples::</span>

<span class="sd">        model = MultiModalEmbeddingModel.from_pretrained(&quot;multimodalembedding@001&quot;)</span>
<span class="sd">        image = Image.load_from_file(&quot;image.png&quot;)</span>
<span class="sd">        video = Video.load_from_file(&quot;video.mp4&quot;)</span>

<span class="sd">        embeddings = model.get_embeddings(</span>
<span class="sd">            image=image,</span>
<span class="sd">            video=video,</span>
<span class="sd">            contextual_text=&quot;Hello world&quot;,</span>
<span class="sd">        )</span>
<span class="sd">        image_embedding = embeddings.image_embedding</span>
<span class="sd">        video_embeddings = embeddings.video_embeddings</span>
<span class="sd">        text_embedding = embeddings.text_embedding</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">_INSTANCE_SCHEMA_URI</span> <span class="o">=</span> <span class="s2">&quot;gs://google-cloud-aiplatform/schema/predict/instance/vision_embedding_model_1.0.0.yaml&quot;</span>

    <span class="k">def</span> <span class="nf">get_embeddings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">video</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Video</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">contextual_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">dimension</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">video_segment_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VideoSegmentConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MultiModalEmbeddingResponse&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets embedding vectors from the provided image.</span>

<span class="sd">        Args:</span>
<span class="sd">            image (Image): Optional. The image to generate embeddings for. One of</span>
<span class="sd">              `image`, `video`, or `contextual_text` is required.</span>
<span class="sd">            video (Video): Optional. The video to generate embeddings for. One of</span>
<span class="sd">              `image`, `video` or `contextual_text` is required.</span>
<span class="sd">            contextual_text (str): Optional. Contextual text for your input image or video.</span>
<span class="sd">              If provided, the model will also generate an embedding vector for the</span>
<span class="sd">              provided contextual text. The returned image and text embedding</span>
<span class="sd">              vectors are in the same semantic space with the same dimensionality,</span>
<span class="sd">              and the vectors can be used interchangeably for use cases like</span>
<span class="sd">              searching image by text or searching text by image. One of `image`, `video` or</span>
<span class="sd">              `contextual_text` is required.</span>
<span class="sd">            dimension (int): Optional. The number of embedding dimensions. Lower</span>
<span class="sd">              values offer decreased latency when using these embeddings for</span>
<span class="sd">              subsequent tasks, while higher values offer better accuracy.</span>
<span class="sd">              Available values: `128`, `256`, `512`, and `1408` (default).</span>
<span class="sd">            video_segment_config (VideoSegmentConfig): Optional. The specific</span>
<span class="sd">              video segments (in seconds) the embeddings are generated for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            MultiModalEmbeddingResponse:</span>
<span class="sd">                The image and text embedding vectors.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">image</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">video</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">contextual_text</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;One of `image`, `video`, or `contextual_text` is required.&quot;</span>
            <span class="p">)</span>

        <span class="n">instance</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">image</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="p">}</span>

        <span class="k">if</span> <span class="n">video</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">video</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
                <span class="p">}</span>  <span class="c1"># pylint: disable=protected-access</span>

            <span class="k">if</span> <span class="n">video_segment_config</span><span class="p">:</span>
                <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">][</span><span class="s2">&quot;videoSegmentConfig&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;startOffsetSec&quot;</span><span class="p">:</span> <span class="n">video_segment_config</span><span class="o">.</span><span class="n">start_offset_sec</span><span class="p">,</span>
                    <span class="s2">&quot;endOffsetSec&quot;</span><span class="p">:</span> <span class="n">video_segment_config</span><span class="o">.</span><span class="n">end_offset_sec</span><span class="p">,</span>
                    <span class="s2">&quot;intervalSec&quot;</span><span class="p">:</span> <span class="n">video_segment_config</span><span class="o">.</span><span class="n">interval_sec</span><span class="p">,</span>
                <span class="p">}</span>

        <span class="k">if</span> <span class="n">contextual_text</span><span class="p">:</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">contextual_text</span>

        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">dimension</span><span class="p">:</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;dimension&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dimension</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
            <span class="n">instances</span><span class="o">=</span><span class="p">[</span><span class="n">instance</span><span class="p">],</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">image_embedding</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;imageEmbedding&quot;</span><span class="p">)</span>
        <span class="n">video_embeddings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">video_embedding</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;videoEmbeddings&quot;</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="n">video_embeddings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">VideoEmbedding</span><span class="p">(</span>
                    <span class="n">embedding</span><span class="o">=</span><span class="n">video_embedding</span><span class="p">[</span><span class="s2">&quot;embedding&quot;</span><span class="p">],</span>
                    <span class="n">start_offset_sec</span><span class="o">=</span><span class="n">video_embedding</span><span class="p">[</span><span class="s2">&quot;startOffsetSec&quot;</span><span class="p">],</span>
                    <span class="n">end_offset_sec</span><span class="o">=</span><span class="n">video_embedding</span><span class="p">[</span><span class="s2">&quot;endOffsetSec&quot;</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="n">text_embedding</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;textEmbedding&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;textEmbedding&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">MultiModalEmbeddingResponse</span><span class="p">(</span>
            <span class="n">image_embedding</span><span class="o">=</span><span class="n">image_embedding</span><span class="p">,</span>
            <span class="n">video_embeddings</span><span class="o">=</span><span class="n">video_embeddings</span><span class="p">,</span>
            <span class="n">_prediction_response</span><span class="o">=</span><span class="n">response</span><span class="p">,</span>
            <span class="n">text_embedding</span><span class="o">=</span><span class="n">text_embedding</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.MultiModalEmbeddingModel.get_embeddings" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_embeddings</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_embeddings</span><span class="p">(</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">video</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Video</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">contextual_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dimension</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">video_segment_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">VideoSegmentConfig</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MultiModalEmbeddingResponse</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Gets embedding vectors from the provided image.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>image</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional. The image to generate embeddings for. One of
<code class="language-python highlight"><span class="n">image</span></code>, <code class="language-python highlight"><span class="n">video</span></code>, or <code class="language-python highlight"><span class="n">contextual_text</span></code> is required.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.Image" href="../preview/vision_models/#vertexai.preview.vision_models.Image">Image</a></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>video</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional. The video to generate embeddings for. One of
<code class="language-python highlight"><span class="n">image</span></code>, <code class="language-python highlight"><span class="n">video</span></code> or <code class="language-python highlight"><span class="n">contextual_text</span></code> is required.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.Video" href="../preview/vision_models/#vertexai.preview.vision_models.Video">Video</a></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>contextual_text</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional. Contextual text for your input image or video.
If provided, the model will also generate an embedding vector for the
provided contextual text. The returned image and text embedding
vectors are in the same semantic space with the same dimensionality,
and the vectors can be used interchangeably for use cases like
searching image by text or searching text by image. One of <code class="language-python highlight"><span class="n">image</span></code>, <code class="language-python highlight"><span class="n">video</span></code> or
<code class="language-python highlight"><span class="n">contextual_text</span></code> is required.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dimension</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional. The number of embedding dimensions. Lower
values offer decreased latency when using these embeddings for
subsequent tasks, while higher values offer better accuracy.
Available values: <code class="language-python highlight"><span class="mi">128</span></code>, <code class="language-python highlight"><span class="mi">256</span></code>, <code class="language-python highlight"><span class="mi">512</span></code>, and <code class="language-python highlight"><span class="mi">1408</span></code> (default).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>video_segment_config</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional. The specific
video segments (in seconds) the embeddings are generated for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.VideoSegmentConfig" href="../preview/vision_models/#vertexai.preview.vision_models.VideoSegmentConfig">VideoSegmentConfig</a></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>MultiModalEmbeddingResponse</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The image and text embedding vectors.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.MultiModalEmbeddingResponse" href="../preview/vision_models/#vertexai.preview.vision_models.MultiModalEmbeddingResponse">MultiModalEmbeddingResponse</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_embeddings</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Image</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">video</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Video</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">contextual_text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dimension</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">video_segment_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VideoSegmentConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MultiModalEmbeddingResponse&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets embedding vectors from the provided image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image (Image): Optional. The image to generate embeddings for. One of</span>
<span class="sd">          `image`, `video`, or `contextual_text` is required.</span>
<span class="sd">        video (Video): Optional. The video to generate embeddings for. One of</span>
<span class="sd">          `image`, `video` or `contextual_text` is required.</span>
<span class="sd">        contextual_text (str): Optional. Contextual text for your input image or video.</span>
<span class="sd">          If provided, the model will also generate an embedding vector for the</span>
<span class="sd">          provided contextual text. The returned image and text embedding</span>
<span class="sd">          vectors are in the same semantic space with the same dimensionality,</span>
<span class="sd">          and the vectors can be used interchangeably for use cases like</span>
<span class="sd">          searching image by text or searching text by image. One of `image`, `video` or</span>
<span class="sd">          `contextual_text` is required.</span>
<span class="sd">        dimension (int): Optional. The number of embedding dimensions. Lower</span>
<span class="sd">          values offer decreased latency when using these embeddings for</span>
<span class="sd">          subsequent tasks, while higher values offer better accuracy.</span>
<span class="sd">          Available values: `128`, `256`, `512`, and `1408` (default).</span>
<span class="sd">        video_segment_config (VideoSegmentConfig): Optional. The specific</span>
<span class="sd">          video segments (in seconds) the embeddings are generated for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        MultiModalEmbeddingResponse:</span>
<span class="sd">            The image and text embedding vectors.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">image</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">video</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">contextual_text</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;One of `image`, `video`, or `contextual_text` is required.&quot;</span>
        <span class="p">)</span>

    <span class="n">instance</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">image</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>

    <span class="k">if</span> <span class="n">video</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">video</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;gcsUri&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">_gcs_uri</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;bytesBase64Encoded&quot;</span><span class="p">:</span> <span class="n">video</span><span class="o">.</span><span class="n">_as_base64_string</span><span class="p">()</span>  <span class="c1"># pylint: disable=protected-access</span>
            <span class="p">}</span>  <span class="c1"># pylint: disable=protected-access</span>

        <span class="k">if</span> <span class="n">video_segment_config</span><span class="p">:</span>
            <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">][</span><span class="s2">&quot;videoSegmentConfig&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;startOffsetSec&quot;</span><span class="p">:</span> <span class="n">video_segment_config</span><span class="o">.</span><span class="n">start_offset_sec</span><span class="p">,</span>
                <span class="s2">&quot;endOffsetSec&quot;</span><span class="p">:</span> <span class="n">video_segment_config</span><span class="o">.</span><span class="n">end_offset_sec</span><span class="p">,</span>
                <span class="s2">&quot;intervalSec&quot;</span><span class="p">:</span> <span class="n">video_segment_config</span><span class="o">.</span><span class="n">interval_sec</span><span class="p">,</span>
            <span class="p">}</span>

    <span class="k">if</span> <span class="n">contextual_text</span><span class="p">:</span>
        <span class="n">instance</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">contextual_text</span>

    <span class="n">parameters</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">dimension</span><span class="p">:</span>
        <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;dimension&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dimension</span>

    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endpoint</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
        <span class="n">instances</span><span class="o">=</span><span class="p">[</span><span class="n">instance</span><span class="p">],</span>
        <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">image_embedding</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;imageEmbedding&quot;</span><span class="p">)</span>
    <span class="n">video_embeddings</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">video_embedding</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;videoEmbeddings&quot;</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="n">video_embeddings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">VideoEmbedding</span><span class="p">(</span>
                <span class="n">embedding</span><span class="o">=</span><span class="n">video_embedding</span><span class="p">[</span><span class="s2">&quot;embedding&quot;</span><span class="p">],</span>
                <span class="n">start_offset_sec</span><span class="o">=</span><span class="n">video_embedding</span><span class="p">[</span><span class="s2">&quot;startOffsetSec&quot;</span><span class="p">],</span>
                <span class="n">end_offset_sec</span><span class="o">=</span><span class="n">video_embedding</span><span class="p">[</span><span class="s2">&quot;endOffsetSec&quot;</span><span class="p">],</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="n">text_embedding</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;textEmbedding&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;textEmbedding&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">predictions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">MultiModalEmbeddingResponse</span><span class="p">(</span>
        <span class="n">image_embedding</span><span class="o">=</span><span class="n">image_embedding</span><span class="p">,</span>
        <span class="n">video_embeddings</span><span class="o">=</span><span class="n">video_embeddings</span><span class="p">,</span>
        <span class="n">_prediction_response</span><span class="o">=</span><span class="n">response</span><span class="p">,</span>
        <span class="n">text_embedding</span><span class="o">=</span><span class="n">text_embedding</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.MultiModalEmbeddingResponse" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">MultiModalEmbeddingResponse</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


      <p>The multimodal embedding response.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="vertexai.vision_models.MultiModalEmbeddingResponse.image_embedding">image_embedding</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Optional. The embedding vector generated from your image.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[float]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="vertexai.vision_models.MultiModalEmbeddingResponse.video_embeddings">video_embeddings</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Optional. The embedding vectors generated from your video.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.VideoEmbedding" href="../preview/vision_models/#vertexai.preview.vision_models.VideoEmbedding">VideoEmbedding</a>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="vertexai.vision_models.MultiModalEmbeddingResponse.text_embedding">text_embedding</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Optional. The embedding vector generated from the contextual text provided for your image or video.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[float]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">MultiModalEmbeddingResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The multimodal embedding response.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        image_embedding (List[float]):</span>
<span class="sd">            Optional. The embedding vector generated from your image.</span>
<span class="sd">        video_embeddings (List[VideoEmbedding]):</span>
<span class="sd">            Optional. The embedding vectors generated from your video.</span>
<span class="sd">        text_embedding (List[float]):</span>
<span class="sd">            Optional. The embedding vector generated from the contextual text provided for your image or video.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">_prediction_response</span><span class="p">:</span> <span class="n">Any</span>
    <span class="n">image_embedding</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">video_embeddings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">VideoEmbedding</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">text_embedding</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.Video" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Video</span>


</h2>


    <div class="doc doc-contents ">


      <p>Video.</p>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Video</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Video.&quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">_loaded_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">video_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an `Image` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            video_bytes: Video file bytes. Video can be in AVI, FLV, MKV, MOV,</span>
<span class="sd">                MP4, MPEG, MPG, WEBM, and WMV formats.</span>
<span class="sd">            gcs_uri: Image URI in Google Cloud Storage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">video_bytes</span><span class="p">)</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">(</span><span class="n">gcs_uri</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either video_bytes or gcs_uri must be provided.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_video_bytes</span> <span class="o">=</span> <span class="n">video_bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span> <span class="o">=</span> <span class="n">gcs_uri</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">load_from_file</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Video&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads video from local file or Google Cloud Storage.</span>

<span class="sd">        Args:</span>
<span class="sd">            location: Local path or Google Cloud Storage uri from where to load</span>
<span class="sd">                the video.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Loaded video as an `Video` object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;gs://&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Video</span><span class="p">(</span><span class="n">gcs_uri</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>

        <span class="n">video_bytes</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
        <span class="n">video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span><span class="n">video_bytes</span><span class="o">=</span><span class="n">video_bytes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">video</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">storage</span><span class="o">.</span><span class="n">Blob</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;_blob is only supported when gcs_uri is set.&quot;</span><span class="p">)</span>
        <span class="n">storage_client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span>
            <span class="n">credentials</span><span class="o">=</span><span class="n">aiplatform_initializer</span><span class="o">.</span><span class="n">global_config</span><span class="o">.</span><span class="n">credentials</span>
        <span class="p">)</span>
        <span class="n">blob</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Blob</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="n">storage_client</span><span class="p">)</span>
        <span class="c1"># Needed to populate `blob.content_type`</span>
        <span class="n">blob</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">blob</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_video_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_blob</span><span class="o">.</span><span class="n">download_as_bytes</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span>

    <span class="nd">@_video_bytes</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">_video_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loaded_bytes</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_mime_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the MIME type of the video.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_blob</span><span class="o">.</span><span class="n">content_type</span>
        <span class="c1"># Fall back to mp4</span>
        <span class="k">return</span> <span class="s2">&quot;video/mp4&quot;</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Saves video to a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            location: Local path where to save the video.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_video_bytes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_as_base64_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Encodes video using the base64 encoding.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Base64 encoding of the video as a string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># ! b64encode returns `bytes` object, not `str`.</span>
        <span class="c1"># We need to convert `bytes` to `str`, otherwise we get service error:</span>
        <span class="c1"># &quot;received initial metadata size exceeds limit&quot;</span>
        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_video_bytes</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.Video.__init__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__init__</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="fm">__init__</span><span class="p">(</span>
    <span class="nf">video_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">



<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>video_bytes</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Video file bytes. Video can be in AVI, FLV, MKV, MOV,
MP4, MPEG, MPG, WEBM, and WMV formats.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[bytes]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>gcs_uri</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Image URI in Google Cloud Storage.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[str]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">video_bytes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">gcs_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an `Image` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        video_bytes: Video file bytes. Video can be in AVI, FLV, MKV, MOV,</span>
<span class="sd">            MP4, MPEG, MPG, WEBM, and WMV formats.</span>
<span class="sd">        gcs_uri: Image URI in Google Cloud Storage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">video_bytes</span><span class="p">)</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">(</span><span class="n">gcs_uri</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either video_bytes or gcs_uri must be provided.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_video_bytes</span> <span class="o">=</span> <span class="n">video_bytes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_gcs_uri</span> <span class="o">=</span> <span class="n">gcs_uri</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.Video.load_from_file" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_from_file</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">load_from_file</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Video</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Loads video from local file or Google Cloud Storage.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>location</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Local path or Google Cloud Storage uri from where to load
the video.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="vertexai.vision_models._vision_models.Video" href="../preview/vision_models/#vertexai.preview.vision_models.Video">Video</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Loaded video as an <code class="language-python highlight"><span class="n">Video</span></code> object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">load_from_file</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Video&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads video from local file or Google Cloud Storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        location: Local path or Google Cloud Storage uri from where to load</span>
<span class="sd">            the video.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Loaded video as an `Video` object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;gs://&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Video</span><span class="p">(</span><span class="n">gcs_uri</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>

    <span class="n">video_bytes</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
    <span class="n">video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span><span class="n">video_bytes</span><span class="o">=</span><span class="n">video_bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">video</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.Video.save" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">save</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">save</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Saves video to a file.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>location</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Local path where to save the video.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Saves video to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        location: Local path where to save the video.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">location</span><span class="p">)</span><span class="o">.</span><span class="n">write_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_video_bytes</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.VideoEmbedding" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">VideoEmbedding</span>


</h2>


    <div class="doc doc-contents ">


      <p>Embeddings generated from video with offset times.</p>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VideoEmbedding</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Embeddings generated from video with offset times.&quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">embedding</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">embedding</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a `VideoEmbedding` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            start_offset_sec: Start time offset (in seconds) of generated embeddings.</span>
<span class="sd">            end_offset_sec: End time offset (in seconds) of generated embeddings.</span>
<span class="sd">            embedding: Generated embedding for interval.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_offset_sec</span> <span class="o">=</span> <span class="n">start_offset_sec</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_offset_sec</span> <span class="o">=</span> <span class="n">end_offset_sec</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">embedding</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.VideoEmbedding.__init__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__init__</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="fm">__init__</span><span class="p">(</span>
    <span class="nf">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">embedding</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">



<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>start_offset_sec</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Start time offset (in seconds) of generated embeddings.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>end_offset_sec</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>End time offset (in seconds) of generated embeddings.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>embedding</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Generated embedding for interval.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[float]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">embedding</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a `VideoEmbedding` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        start_offset_sec: Start time offset (in seconds) of generated embeddings.</span>
<span class="sd">        end_offset_sec: End time offset (in seconds) of generated embeddings.</span>
<span class="sd">        embedding: Generated embedding for interval.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_offset_sec</span> <span class="o">=</span> <span class="n">start_offset_sec</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">end_offset_sec</span> <span class="o">=</span> <span class="n">end_offset_sec</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">embedding</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="vertexai.vision_models.VideoSegmentConfig" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">VideoSegmentConfig</span>


</h2>


    <div class="doc doc-contents ">


      <p>The specific video segments (in seconds) the embeddings are generated for.</p>

              <details class="quote">
                <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
                <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VideoSegmentConfig</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The specific video segments (in seconds) the embeddings are generated for.&quot;&quot;&quot;</span>

    <span class="vm">__module__</span> <span class="o">=</span> <span class="s2">&quot;vertexai.vision_models&quot;</span>

    <span class="n">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">interval_sec</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span><span class="p">,</span>
        <span class="n">interval_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a `VideoSegmentConfig` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            start_offset_sec: Start time offset (in seconds) to generate embeddings for.</span>
<span class="sd">            end_offset_sec: End time offset (in seconds) to generate embeddings for.</span>
<span class="sd">            interval_sec: Interval to divide video for generated embeddings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_offset_sec</span> <span class="o">=</span> <span class="n">start_offset_sec</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_offset_sec</span> <span class="o">=</span> <span class="n">end_offset_sec</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_sec</span> <span class="o">=</span> <span class="n">interval_sec</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="vertexai.vision_models.VideoSegmentConfig.__init__" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">__init__</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="fm">__init__</span><span class="p">(</span>
    <span class="nf">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span><span class="p">,</span>
    <span class="n">interval_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">



<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>start_offset_sec</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Start time offset (in seconds) to generate embeddings for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>0</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>end_offset_sec</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>End time offset (in seconds) to generate embeddings for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>120</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval_sec</code></td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Interval to divide video for generated embeddings.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>int</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>16</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>vertexai\vision_models\_vision_models.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">start_offset_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">end_offset_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span><span class="p">,</span>
    <span class="n">interval_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a `VideoSegmentConfig` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        start_offset_sec: Start time offset (in seconds) to generate embeddings for.</span>
<span class="sd">        end_offset_sec: End time offset (in seconds) to generate embeddings for.</span>
<span class="sd">        interval_sec: Interval to divide video for generated embeddings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_offset_sec</span> <span class="o">=</span> <span class="n">start_offset_sec</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">end_offset_sec</span> <span class="o">=</span> <span class="n">end_offset_sec</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interval_sec</span> <span class="o">=</span> <span class="n">interval_sec</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>